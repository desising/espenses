{% extends 'base.html' %}
{% block body_block %}
{# Load the tag library #}
{% load bootstrap4 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}

{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}
{% if user.is_authenticated %}

    <table class="table table-bordered">
      <thead>
        <tr>
          <!--<th>Username</th>-->
          <th>Amount</th>
          <th>Name</th>
          <th>Posted At</th>
        </tr>
      </thead>
  <tbody>
    {% for expense in object_list %}
      <tr>
        <!--<td>{{ expense.user}}</td>-->
        <td>{{ expense.amount }}</td>
        <td>{{ expense.name }}</td>
        <td>{{ expense.created }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% if is_paginated %}
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center pagination-sm">
    {% if page_obj.has_previous %}
    <li class="page-item">
              <a class="page-link" href="?page={{ page_obj.previous_page_number }}" tabindex="-1">Previous</a>
          </li>
    {% else %}
       <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Previous</a>
        </li>
    {% endif %}
    {% for i in paginator.page_range %}
      {#% if page_obj.number == i %#}
        <!--<li class="page-item"><span>{{  i  }} <span class="sr-only">(current)</span></span></li>-->
      {#% else %#}
        <li class="page-item"><a class="page-link" href="?page={{ i }}"> {{  i  }} </a></li>
      {#% endif %#}
    {% endfor %}
    {% if page_obj.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
    {% else %}
       <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">Next</a>
      </li>
    {% endif %}
  </ul>
</nav>
{% endif %}
<form action="/expenses/create" method='get'>
<button type="submit"> Add expense </button>
</form>
{% endif %}
{% endblock %}
